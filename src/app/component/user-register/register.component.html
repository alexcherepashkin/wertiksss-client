<div class="row ">
    <div class="col-md-10 col-11 border rounded-lg shadow-lg bg-light py-md-5 py-4 mx-auto">
        <div class=" border rounded-lg shadow bg-light px-5 py-lg-5 py-4 mx-auto" style="max-width: 370px !important">

            <img src="//ssl.gstatic.com/accounts/ui/avatar_2x.png" id="signup-img"
                class="d-block mx-auto rounded-circle mb-4" width="96" height="96" alt="Signup img" />

            <h3 class="text-center mb-4 text-muted">Create User</h3>

            <form *ngIf="!isSuccessful" name="form" (ngSubmit)="regForm.form.valid && onSubmit()" #regForm="ngForm"
                novalidate>
                <div class="form-group ">
                    <div class="alert alert-danger " role="alert" *ngIf="regForm.submitted && isSignUpFailed ">
                        <strong>Holy guacamole!</strong><br />
                        {{ errorMessage }}
                        <!-- {{ errorMessage || 'An unknown error occurred' }} -->
                    </div>
                </div>

                <div class="form-group mb-4">
                    <label class="sr-only" for="username">Username</label>
                    <input [(ngModel)]="form.username" type="text" class="form-control" name="username" id="username"
                        #username="ngModel" placeholder="Username" required minlength="1" maxlength="30" pattern="^\S+(.+)*$"
                        [ngClass]="{'is-invalid' : regForm.submitted && username.invalid || regForm.submitted && usernameErrors?.length}" />
                    <div class="invalid-feedback">
                        <div *ngIf="username.errors?.required">Username is required</div>
                        <div *ngIf="username.errors?.pattern">Cannot start with a space</div>
                        <div *ngFor="let error of usernameErrors">{{ error.message }}</div>
                    </div>
                </div>
                <div class="form-group mb-4">
                    <label class="sr-only" for="email">Email</label>
                    <input [(ngModel)]="form.email" type="email" class="form-control" name="email" id="email"
                        #email="ngModel" placeholder="Email" email
                        [ngClass]="{'is-invalid' : regForm.submitted && email.invalid}" />
                    <!-- <div class="alert alert-danger" role="alert" *ngIf="regForm.submitted && email.invalid">
                        <div *ngIf="email.errors.email">Email must be a valid email address</div>
                    </div> -->
                    <div class="invalid-feedback">
                        <div *ngIf="email.errors?.email">Email must be a valid email address</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="sr-only" for="password">Password</label>
                    <input [(ngModel)]="form.password" type="password" class="form-control" name="password"
                        #password="ngModel" id="password" placeholder="Password" required minlength="1" maxlength="30"
                        [ngClass]="{'is-invalid' : regForm.submitted && password.invalid || regForm.submitted && passwordErrors?.length}" />
                    <div class="invalid-feedback">
                        <div *ngIf="password.errors?.required">Password cannot be empty</div>
                        <div *ngFor="let error of passwordErrors">{{ error.message }}</div>
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit" [disabled]="loading">
                        <strong>Register</strong>
                        <span *ngIf="loading" class="spinner-border spinner-border-sm ml-1"></span>
                    </button>
                </div>
            </form>

            <div class="alert alert-success" role="alert" *ngIf="isSuccessful">
                You have registered successfully
            </div>

        </div>
    </div>
</div>